If you are looking a way to allow user to get a free membership then upgrade to other membership then the below code help you with this.

When someone completes a purchase that includes a membership, the system checks if they already have an active membership. If they do, it automatically pauses the older membership and activates the new one once the order is completed. This ensures that our customers can upgrade or change their memberships seamlessly without any overlap or confusion. Additionally, when an order is initially processed, the system temporarily pauses the new membership until the order is fully completed, preventing any issues with multiple active memberships. It's a smooth way to make sure everything regarding memberships is handled neatly and efficiently, giving customers the best experience possible.

Hope this will help you if you are planning to allow user to assign the free membership once user register and if they want to upgrade to another membership then the below code will help you to achieve this.

Make sure you assign the free membership manually not in registration directly, if you want to allow the free membership registration then create a separate registration form for this. So for the paid memebrship once they click they should get redirect to checkout page and after successful purchase the membership will be assigned to them and you have to change the order status from processing to completed to make the membership active. :)
